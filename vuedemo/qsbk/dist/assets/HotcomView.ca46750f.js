import{_ as G}from"./ic_topic_prefix.9.4b76950c.js";import{a as Q}from"./axios.8ade02f1.js";import{_ as $,B as K,r as g,d as c,J as O,e as i,h as l,j as e,k as f,g as _,F as U,i as V,f as w,C as N,n as F,l as J,t,p as y,m as a,q,s as P,v as Y}from"./index.3c14ef27.js";const R="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAAXNSR0IArs4c6QAAAHtQTFRFTGlx/9Ig/9Ig/9Ig/9Qh/9Ih/9Uh/9Mh/9Ig/9Uj/9Ig/9Ig/9Mh/9Ig/9cm/9Mg/9Ui/9Ig/9Mg/9Qh/9Mg/9Ig/9Mi/+Y5/9Mg/9Mg/9Ig/9Mg/9Qh/9Mg/9Ig/9Mg/9Mh/9Mg/9gm/9Mg/9Mh/9Mg/9Mg/9wo/9Igh46UMwAAACh0Uk5TAKrYhTyaQ8D0Jf3vgvgacy7eWF+56zgFiWXmjU3HxM1UlBR5atOjDsV9bzoAAAHNSURBVHja7ZbZjqswEETLhMU4w74TEkLW+v8vHGFFaDQijElernRzXpBAR26XWt3gw4f/A9exJJ8gLcddUH2Pf+D5eIK95Z9s7SfnTu6iPX/2z5qLa0GNKra/K5/Nij/4woaaBDZ/MZeaYyo7M7JlKlszsuSDfZqmMeI0/UqiqEEYjSSckDPy9FHgQenNp7kkF4fDoUFzOFwLIXaIhRClgTxz5x4dyeNrco7sFTnIhco54LxWDi7w7zjWcDsIkhlyM1nVaVwB8BuvjwEkJBtTmT7g+7paqjNwUWSEGwMjOffkFFiGCp3kgJo7N1iX9hX3PkbcjpmfoVbJykXNbYk8qEJ1DGkiB0p1qEmVwg9IOZAphpNrJDeogHx8hgmpSe5AbSSLsnR3JPexNb2zskwaNkkrOaFG9UbzDrNPCdvaIbk7CVKeKvP2FLDJovL1uCtJ3hAWhnIRYk/S1pMpRq+bpVuU5XRJFylJ1tiNdSMiKUOIpTE0JTs8xr8HW0/AUOmbxFPwS6M3iHqOyE636GWja9q0S6PXpSHu/Loxwntv0b2/Yt9f7u//ViwvTQdrqfbT4quwmrClpg3xAmWg+63ES2QkVYYXsR3Hxod/hG/aXL0o6/noywAAAABJRU5ErkJggg==";const o=p=>(P("data-v-f70a323e"),p=p(),Y(),p),Z=o(()=>e("h3",{class:"title"},"ta\u7684\u70ED\u8BC4",-1)),D={class:"wrap"},ee={key:0,class:"sheItem"},se={class:"hotcom"},ie={class:"pic"},le={class:"content"},te={class:"video_head"},ne={class:"user_info"},ae=["src"],oe={key:1,class:"tou_icon"},re={class:"name"},ce=["src"],_e={key:0,class:"royao"},de=o(()=>e("div",{class:"video_icon"},[e("i",{class:"guan"}),e("i",{class:"dele"})],-1)),ue={class:"context"},ve={key:0,class:"topic"},ge={class:"top_wrap"},pe=o(()=>e("img",{src:G,alt:""},null,-1)),he=["src"],me=o(()=>e("div",{class:"play_btn"},null,-1)),fe=["src"],ke={key:0,class:"changtu"},Ae=o(()=>e("span",null,"\u957F\u56FE",-1)),we=[Ae],ye={key:2,class:"picture_wrap"},Me={key:0,class:"gif_icon"},Ie=o(()=>e("span",null,"\u52A8\u56FE",-1)),ze=[Ie],be={key:3,class:"hot_com"},xe={class:"head_com"},Se={class:"head_wrap"},Ue=["src"],Ve={class:"head_zan"},Ne={class:"hot_content"},Fe={class:"video_foot"},Je={class:"left"},qe=o(()=>e("div",{class:"like"},null,-1)),Re=o(()=>e("div",{class:"unlike"},null,-1)),Ce={class:"right"},Ee=o(()=>e("div",{class:"comment_icon"},null,-1)),Te=o(()=>e("div",{class:"share_icon"},null,-1)),je={__name:"HotcomView",setup(p){const C=r=>{let n=Math.floor(r/60),u=Math.floor(r%60);return u<10&&(u="0"+u),n+":"+u},E=K(),d=g([]),h=g(!1),k=g(!1),m=g(!1);let A=g(0);const M=()=>{A.value++,Q.get(`https://apis.netstart.cn/qiushi/user/${E.query.id}/hot/comment`,{params:{page:A.value,count:20}}).then(r=>{m.value&&(d.value=[],m.value=!1),d.value=[...d.value,...r.data.items],r.data.items.length||(k.value=!0),h.value=!1})},T=()=>{A.value=0,k.value=!1,h.value=!0,M()};return(r,n)=>{const u=c("van-loading"),j=c("van-image"),B=c("van-grid-item"),H=c("van-grid"),L=c("van-skeleton"),X=c("van-list"),W=c("van-pull-refresh"),I=O("lazy");return i(),l("div",null,[e("header",null,[e("div",{class:"left_icon",onClick:n[0]||(n[0]=s=>r.$router.back())}),Z]),e("div",D,[f(W,{modelValue:m.value,"onUpdate:modelValue":n[4]||(n[4]=s=>m.value=s),onRefresh:T},{default:_(()=>[f(X,{loading:h.value,"onUpdate:loading":n[3]||(n[3]=s=>h.value=s),finished:k.value,"finished-text":"\u6CA1\u6709\u66F4\u591A\u4E86",onLoad:M},{default:_(()=>[(i(!0),l(U,null,V(d.value.length?d.value:5,s=>(i(),w(L,{title:"",avatar:"",row:3,loading:!d.value.length},{default:_(()=>{var z,b,x,S;return[s.article.user?(i(),l("div",ee,[e("div",se,[e("div",ie,[N((i(),w(j,{src:F(R),width:"14",height:"14",fit:"contain",position:"center","lazy-load":""},{loading:_(()=>[f(u,{type:"spinner",size:"14"})]),error:_(()=>[J("\u52A0\u8F7D\u5931\u8D25")]),_:1},8,["src"])),[[I,F(R)]])]),e("div",le,[e("p",null,t(s.user.login)+"\uFF1A",1),e("span",null,t(s.content),1)])]),e("div",te,[e("div",ne,[e("div",{class:"user_pic",onClick:n[1]||(n[1]=v=>r.$router.push({path:"/user"}))},[e("img",{src:s.article.user.thumb,alt:""},null,8,ae),s.article.user.box_url?(i(),l("div",{key:0,class:"xiangkuang",style:y(`background-image:url('${s.article.user.box_url}')`)},null,4)):a("",!0),s.article.user.talents?(i(),l("div",oe)):a("",!0)]),e("div",{class:"user_name",onClick:n[2]||(n[2]=v=>r.$router.push({path:"/user"}))},[e("div",re,[e("span",null,t(s.article.user.login),1),s.article.user.titles?(i(),l("img",{key:0,src:s.article.user.titles[0].icon,alt:""},null,8,ce)):a("",!0)]),s.article.user.talents?(i(),l("div",_e,[e("p",null,t(s.article.user.talents[0].cmd_desc),1)])):a("",!0)])]),de]),e("div",ue,[e("p",null,[s.article.topic?(i(),l("div",ve,[e("div",ge,[pe,e("span",null,t(s.article.topic.content),1)])])):a("",!0),J(t(s.article.content),1)])]),s.article.pic_size?(i(),l("div",{key:0,class:q(s.article.pic_size[0]/s.article.pic_size[1]<=1?"video_wrap1":"video_wrap2")},[e("img",{src:s.article.pic_url,alt:""},null,8,he),e("div",{class:"mask",style:y(`background-image:url('${s.article.pic_url}')`)},null,4),me,e("span",null,t(C(s.article.pic_size[2])),1)],2)):a("",!0),s.article.image_size?(i(),l("div",{key:1,class:q(s.article.image_size.m[0]/s.article.image_size.m[1]<1?"video_wrap1":"video_wrap2")},[e("img",{src:s.article.low_url,alt:""},null,8,fe),s.article.image_size.m[1]/s.article.image_size.m[0]>3?(i(),l("div",ke,we)):a("",!0)],2)):a("",!0),s.article.attachments?(i(),l("div",ye,[f(H,{square:"",gutter:5,border:!1,"column-num":3},{default:_(()=>[(i(!0),l(U,null,V(s.article.attachments,v=>(i(),w(B,null,{default:_(()=>[N((i(),l("div",{class:"pic",style:y(`background-image:url('${v.origin_url}')`)},[v.format=="gif"?(i(),l("div",Me,ze)):a("",!0)],4)),[[I,v.origin_url,"background-image"]])]),_:2},1024))),256))]),_:2},1024)])):a("",!0),s.article.hot_comment?(i(),l("div",be,[e("div",xe,[e("div",Se,[e("img",{src:(z=s.article.hot_comment)==null?void 0:z.user.thumb,alt:""},null,8,Ue),e("span",null,t((b=s.article.hot_comment)==null?void 0:b.user.login)+"\uFF1A",1)]),e("div",Ve,[e("span",null,t((x=s.article.hot_comment)==null?void 0:x.like_count)+" \u8D5E",1)])]),e("div",Ne,[e("p",null,t((S=s.article.hot_comment)==null?void 0:S.content),1)])])):a("",!0),e("div",Fe,[e("div",Je,[qe,e("span",null,t(s.article.votes.up+s.article.votes.down),1),Re]),e("div",Ce,[Ee,e("span",null,t(s.article.comments_count),1),Te,e("span",null,t(s.article.share_count),1)])])])):a("",!0)]}),_:2},1032,["loading"]))),256))]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])}}},Xe=$(je,[["__scopeId","data-v-f70a323e"]]);export{Xe as default};
