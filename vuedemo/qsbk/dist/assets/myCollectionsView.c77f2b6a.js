import{c as _e,_ as ne,a as te,b as se,d as re,e as ae,f as ie,g as ue,h as oe,i as ce,j as me,k as pe,l as he,m as de,n as ge,o as ve,p as ke,q as le,r as ye,s as fe,t as qe,u as Ce,v as xe,w as ze,x as Ie,y as Se,z as be,A as $e,B as Ne,C as Be,D as Pe,E as Ve,F as Le,G as Te,H as Ae,I as Fe,J as He,K as Je,L as Me,M as Oe,N as Re,O as je,P as De,Q as Ee,R as Ge,S as Ke,T as Qe}from"./index.a65c15ed.js";import{_ as Ue}from"./operation_follow.6643abf4.js";import{_ as We}from"./ic_nav_close.4f0761b7.js";import{a as Xe,B as Ye,u as Ze,c as v,r as T,d as k,e as t,h as i,j as _,F as A,i as F,n as d,k as c,l as p,t as s,m,p as we,g,f as q,q as H,I as J}from"./index.3c14ef27.js";import"./_commonjsHelpers.6e81687c.js";const e_={class:"collections"},__=_("div",{class:"logoheader"},[_("p",null,"\u6211\u7684\u6536\u85CF")],-1),n_=_("div",{class:"logo-follow"},null,-1),t_={class:"follow-top"},s_={class:"follow-top-left"},r_=["onClick"],a_={class:"userimg"},i_={key:0},u_={key:0},o_={class:"follow-top-right"},c_=["onClick"],m_={key:0,src:Ue},p_=["onClick"],h_=_("img",{src:We},null,-1),d_=[h_],g_=["innerHTML","onClick"],v_={key:0,class:"video"},k_={class:"imgboxs"},l_=_("span",{class:"play"},null,-1),y_=["textContent"],f_=["textContent"],q_={key:1,class:"video"},C_={class:"imgboxc"},x_=_("span",{class:"play"},null,-1),z_=["textContent"],I_=["textContent"],S_={class:"picture"},b_={key:2,class:"comment"},$_={class:"comment-top"},N_={class:"comment-footer"},B_={class:"follow-footer"},P_={class:"follow-footer-left"},V_=["onClick"],L_=["onClick"],T_={class:"follow-footer-right"},A_=_("span",null,null,-1),F_=_("span",null,null,-1),G_={__name:"myCollectionsView",setup(H_){const u=Xe();Ye();const l=Ze(),M=v(()=>u.state.collection),O=v(()=>u.state.followlist),R=n=>{u.commit("getfollowlist",n)},C=v(()=>u.state.likes),j=n=>{u.commit("getactivecc",n)},D=v(()=>u.state.notlikes),E=n=>{u.commit("getnotactivecc",n)},G=()=>{l.back()},K=(n,r)=>{l.push({path:"/article",query:{id:n}}),u.commit("getArticle",r)},Q=(n,r,o)=>{let h=JSON.parse(JSON.stringify(o)).map(y=>y.pic_url);J({images:h,showIndex:!0,loop:!1,startPosition:r,closeable:!0,closeIconPosition:"top-left"})},U=(n,r)=>{J({images:[n],showIndex:!0,loop:!1,startPosition:r,closeable:!0,closeIconPosition:"top-left"})},W=n=>{u.commit("getnotCollection",n)},X=n=>{l.push({path:"/user",query:{id:n}})},Y=[ne,te,se,re,ae,ie,ue,oe,ce,me,pe,he,de,ge,ve,ke,le,ye,fe,qe,Ce,xe,ze,Ie,Se,be,$e,Ne,Be,Pe,Ve,Le,Te,Ae,Fe,He,Je,Me,Oe,Re,je,De,Ee,Ge,Ke,Qe],Z=T(0);for(let n of Y){let r=new Image;r.onload=()=>{Z.value++},r.src=n}const w=T(!1);return _e(),(n,r)=>{const o=k("van-image"),h=k("lazy-component"),y=k("van-grid-item"),ee=k("van-grid");return t(),i("div",e_,[_("div",{class:"collections-top"},[_("div",{class:"logo-back",onClick:G}),__,n_]),(t(!0),i(A,null,F(d(M),(e,J_)=>{var x,z,I,S,b,$,N,B,P,V;return t(),i("div",{class:"myhistory",key:e.id},[_("div",t_,[_("div",s_,[_("p",{onClick:a=>X(e.user.uid)},[c(o,{round:"",width:"35rem",height:"35rem",src:(x=e==null?void 0:e.user)==null?void 0:x.medium},null,8,["src"])],8,r_),_("div",a_,[_("p",null,[p(s((z=e==null?void 0:e.user)==null?void 0:z.login),1),(I=e==null?void 0:e.user)!=null&&I.titles?(t(),i("span",i_,[c(o,{fit:"cover",width:"15rem",height:"15rem",src:e.user.titles[0].icon,alt:""},null,8,["src"])])):m("",!0)]),(S=e==null?void 0:e.user)!=null&&S.talents?(t(),i("p",u_,s(e.user.talents[0].cmd_desc),1)):m("",!0)])]),_("div",o_,[_("span",{onClick:a=>R(e.user)},[d(O).map(a=>a.id).includes(e.user.id)?m("",!0):(t(),i("img",m_))],8,c_),_("span",{onClick:a=>W(e.id)},d_,8,p_)])]),_("p",{class:"title",innerHTML:e.content,onClick:a=>K(e.id,e)},null,8,g_),e.pic_url&&e.pic_size[0]-e.pic_size[1]<0?(t(),i("div",v_,[_("div",{class:"mark",style:we(`background-image:url('${e.pic_url}')`)},null,4),c(h,null,{default:g(()=>[_("div",k_,[c(o,{fit:"cover",width:"200rem",src:e.pic_url,alt:""},null,8,["src"])])]),_:2},1024),l_,_("p",null,[_("span",{textContent:s(parseInt(((b=e.image_size)==null?void 0:b.m[2])/60))},null,8,y_),p(":"),_("span",{textContent:s(parseInt((($=e.image_size)==null?void 0:$.s[2])%60).toString().padStart(2,"0"))},null,8,f_)])])):m("",!0),e.pic_url&&e.pic_size[0]-e.pic_size[1]>=0?(t(),i("div",q_,[c(h,null,{default:g(()=>[_("div",C_,[c(o,{fit:"cover",width:"100%",src:e.pic_url,alt:""},null,8,["src"])])]),_:2},1024),x_,_("p",null,[_("span",{textContent:s(parseInt(((N=e.image_size)==null?void 0:N.m[2])/60))},null,8,z_),p(":"),_("span",{textContent:s(parseInt(((B=e.image_size)==null?void 0:B.s[2])%60).toString().padStart(2,"0"))},null,8,I_)])])):m("",!0),_("div",S_,[c(h,null,{default:g(()=>{var a;return[e.attachments?(t(),q(ee,{key:0,"column-num":3},{default:g(()=>[(t(!0),i(A,null,F(e.attachments,(f,L)=>(t(),q(y,{key:L},{default:g(()=>[c(o,{fit:"cover",width:"100%",height:"110rem",src:f.origin_url,"lazy-load":"true",onClick:M_=>Q(f.pic_url,L,e.attachments)},null,8,["src","onClick"])]),_:2},1024))),128))]),_:2},1024)):m("",!0),!e.attachments&&!((a=e.high_url)!=null&&a.toString().includes("mp4"))?(t(),q(o,{key:1,fit:"cover",width:"100%",height:"100%",src:e.high_url,"lazy-load":"true",onClick:f=>U(e.high_url,0)},null,8,["src","onClick"])):m("",!0)]}),_:2},1024)]),e.hot_comment?(t(),i("div",b_,[_("div",$_,[_("p",null,[_("span",null,[c(o,{round:"",fit:"cover",width:"30rem",height:"30rem",src:e.hot_comment.user.medium},null,8,["src"])]),p(" "+s(e.hot_comment.user.login),1)]),_("span",null,s(e.hot_comment.like_count)+" \u8D5E",1)]),_("div",N_,[_("p",null,s(e.hot_comment.content),1)])])):m("",!0),_("div",B_,[_("div",P_,[_("p",null,[_("span",{class:H({active:d(C).includes(e.id)}),onClick:a=>j(e.id)},null,10,V_),p(s(d(C).includes(e.id)?((P=e==null?void 0:e.votes)==null?void 0:P.up)+1:(V=e==null?void 0:e.votes)==null?void 0:V.up),1),_("span",{onClick:a=>E(e.id),class:H({notactive:d(D).includes(e.id)})},null,10,L_)])]),_("div",T_,[_("p",{onClick:r[0]||(r[0]=a=>w.value=!0)},[A_,p(s(e.comments_count),1),F_,p(s(e.share_count>0?e.share_count:"\u5206\u4EAB"),1)])])])])}),128))])}}};export{G_ as default};
